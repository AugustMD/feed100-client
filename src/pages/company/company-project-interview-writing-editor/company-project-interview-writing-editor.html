<!--
  Generated template for the CompanyProjectInterviewWritingEditorPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content class="editor-modal" #contentRef (ionScroll)="scrollingFun($event)">
  <ion-header class="editor-header">
    <ion-navbar>
      <ion-buttons start>
        <button class="dismiss-button" ion-button (click)="dismiss()" icon-only>
          취소
        </button>
      </ion-buttons>
      <ion-title>
        <span class="project-header-title">
          {{ordinal}}차 인터뷰 작성하기
        </span>
      </ion-title>
      <ion-buttons end>
        <button [disabled]="minTextLength > (interviewContent | textcount)" class="complete-button" ion-button (click)="completeEditor()" icon-only>
          완료
        </button>
      </ion-buttons>
    </ion-navbar>
  </ion-header>

  <div class="editor-notice editor-company-interview-wrapper">
    <ion-item>
      <ion-avatar item-start>
        <img src="assets/img/editor-interview-icon.png" />
      </ion-avatar>
      <div>
        <strong>{{nickname}}</strong> 님에게 3차 인터뷰 요청하기
      </div>
    </ion-item>
    <div class="shadow-top"></div>
  </div>

  <div class="outer-content editor-content have-editor-notice" style="height: 100%">
    <textarea class="height30" [(ngModel)]="interviewContent" [placeholder]="contentPlaceholder"></textarea>
    <div class="content-length-wrapper" [ngStyle]="{'color': minTextLength > (interviewContent | textcount)? '#787878' : '#2C908F'}">
      <span>{{interviewContent | textcount}}</span> / <span>{{minTextLength}}</span>
    </div>
  
    <div class="feedback-images small-feedback-images">
      <span class="add-image-button-box image-box">
        <span class="feedback-image-wrapper add-image-button" tappable (click)="addImage()">
          <ion-icon name="md-add"></ion-icon>
        </span>
      </span>
      <span class="image-box" *ngFor="let interviewImage of interviewImages; let i = index">
        <button class="delete-image-button" ion-button clear (click)="deleteImage(content, i)"><img src="assets/img/delete-button.png" /></button>
        <span class="feedback-image-wrapper">
          <img class="feedback-image" [src]="interviewImage.img" (load)="onInterviewImageLoad($event.target, i)" [style.height]="interviewImage.height" [style.width]="interviewImage.width" [style.left]="interviewImage.left" [style.top]="interviewImage.top" [style.max-height]="interviewImage.maxHeight" [style.max-width]="interviewImage.maxWidth"/>
        </span>
      </span>
    </div>
  </div>
</ion-content>