<!--
  Generated template for the UserPointExchangePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="price-statement-header">
  <ion-navbar hideBackButton="true">
    <ion-buttons start>
      <button ion-button (click)="back()" icon-only>
        <ion-icon name="ios-arrow-back"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>
      <span class="project-header-title">
        포인트 환전
      </span>
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only></button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content>
  <div class="point-exchange-wrapper" text-center>
    <div class="total-point-wrapper" padding>
      <p>현재 포인트</p>
      <span class="total-point">{{totalPoint}}</span><span class="total-point-tag">p</span>
      <div class="exchange-summary" text-center>
        <p class="warn-summary">※ 환전은 {{minExchangePoint}} 포인트 이상부터 가능합니다.</p>
      </div>
      <div class="exchange-content" *ngIf="totalPoint >= minExchangePoint">
        <ion-list no-lines class="underline-input">
        
          <ion-item>
            <ion-label fixed>환전 포인트</ion-label>
            <ion-select [(ngModel)]="exchangePoint" placeholder="환전 금액 선택" okText="완료" cancelText="취소">
              <ion-option *ngFor="let point of exchangePoints" [value]="point" [disabled]="point > totalPoint">{{point}} p</ion-option>
            </ion-select>
          </ion-item>
        
          <ion-item>
            <ion-label fixed>입금 은행</ion-label>
            <ion-select [(ngModel)]="bankName" placeholder="은행 선택" okText="완료" cancelText="취소">
              <ion-option *ngFor="let bank of banks" [value]="bank">{{bank}}</ion-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label fixed>계좌번호</ion-label>
            <ion-input type="tel" placeholder="- 제외" [(ngModel)]="accountNumber"></ion-input>
          </ion-item>
        
          <ion-item>
            <ion-label fixed>예금주</ion-label>
            <ion-input type="text" placeholder="정확히 입력해주세요." [(ngModel)]="accountHolderName"></ion-input>
          </ion-item>

          <button class="exchange-button" [disabled]="!exchangePoint || !bankName || accountNumber == 0 || !accountNumber || !accountHolderName" ion-button block (click)="exchange()">환전하기</button>
        
        </ion-list>
      </div>
      <div class="exchange-summary" text-center>
        <p>포인트 환전 신청 시 바로 포인트가 차감되며 취소가 불가능합니다.<br>신청 마감일은 매월 13일이며 이후 신청 건은 익월 15일에 지급합니다.<br>환전 금액은 매월 15일에 지급합니다.<br>(휴일일 경우 다음 영업일에 입금됩니다.)<br>신청 후 입금이 확인 되지 않을 경우 아래 메일로 문의하시기 바랍니다.<br><br><ins tappable>feed100.help@gmail.com</ins></p>
      </div>
    </div>
  </div>
</ion-content>
  