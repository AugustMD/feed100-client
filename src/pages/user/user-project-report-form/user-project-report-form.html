<!--
  Generated template for the UserProjectReportFormPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content class="slide-question-content" #contentRef no-bounce (ionScroll)="scrollingEvent($event)" (panEnd)='panEnd()'>
  <ion-navbar class="project-report-form-navbar" hideBackButton="true">
    <ion-buttons start>
      <button class="dismiss-button" ion-button (click)="dismiss()" icon-only>
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>
      <span class="project-header-title-wrapper">
        <span class="project-header-title" text-center>
          결과 보고서
        </span>
      </span>
    </ion-title>
    <ion-buttons end>
      <button ion-button clear *ngIf="slideIndex != 3" [disabled]="isWrited" (click)="goNextSlide()">
        다음
      </button>
      <button class="submit-btn" ion-button clear *ngIf="slideIndex == 3" [disabled]="isWrited" (click)="submit()">
        완료
      </button>
    </ion-buttons>
  </ion-navbar>
  <div class="story-main-image-wrapper">
    <div class="story-main-image" [style.backgroundImage]="'url(' + projectMainImage + ')'"></div>
  </div>
  <ion-slides pager="false" (ionSlideDidChange)="slideChanged()">
    <ion-slide *ngIf="isLink">
      <div class="question">Q1. 프로젝트의 사용 인증 사진을 남겨주세요.</div>
      <div class="question-summary">프로젝트 링크를 통해 사용하신 인증 사진을 2개 이상 올려주세요!</div>
      <div class="editor-content">
        <div class="feedback-images small-feedback-images">
          <span class="add-image-button-box image-box">
            <span class="feedback-image-wrapper add-image-button" tappable (click)="addImage()">
              <ion-icon name="md-add"></ion-icon>
            </span>
          </span>
          <span class="image-box" *ngFor="let image of report_form_images; let i = index">
            <button class="delete-image-button" ion-button clear (click)="deleteImage(i)"><img src="assets/img/delete-button.png" /></button>
            <span class="feedback-image-wrapper cropper">
              <img class="feedback-image" [src]="sanitize(image.img)" />
            </span>
          </span>
        </div>
        <div text-right class="content-length-wrapper" [ngStyle]="{'color': 2 > (report_form_images?.length)? '#787878' : '#2C908F'}">
          <span>{{report_form_images?.length}}</span> / <span>2</span>
        </div>
      </div>
    </ion-slide>
    <ion-slide *ngIf="!isLink">
      <div class="question">Q1. 프로젝트 스토리를 요약해주세요.</div>
      <div class="question-summary">자신의 경험을 바탕으로 서비스 스토리에 대해 자유롭게 서술해주세요!</div>
      <div class="editor-content">
        <div class="content-length-wrapper" [ngStyle]="{'color': 50 > (storySummaryContent | textcount)? '#787878' : '#2C908F'}">
          <span>{{storySummaryContent | textcount}}</span> / <span>50</span>
        </div>
        <textarea (ngModelChange)="slideContentCheck()" [(ngModel)]="storySummaryContent" [placeholder]="storySummaryContentPlaceholder"></textarea>
      </div>
    </ion-slide>
    <ion-slide style="overflow-y: scroll; display: block;">
      <div class="question">Q2. 프로젝트의 장점?</div>
      <div class="question-summary">프로잭트의 장점에 대해 말해주세요.</div>
      <div class="editor-content">
        <div class="content-length-wrapper" [ngStyle]="{'color': 50 > (prosContent | textcount)? '#787878' : '#2C908F'}">
          <span>{{prosContent | textcount}}</span> / <span>50</span>
        </div>
        <textarea (ngModelChange)="slideContentCheck()" [(ngModel)]="prosContent" [placeholder]="prosContentPlaceholder"></textarea>
      </div>
    </ion-slide>
    <ion-slide style="overflow-y: scroll; display: block;">
      <div class="question">Q3. 이 프로젝트의 단점?</div>
      <div class="question-summary">>프로잭트의 단점에 대해 말해주세요.</div>
      <div class="editor-content" margin-bottom>
        <div class="content-length-wrapper" [ngStyle]="{'color': 50 > (consContent | textcount)? '#787878' : '#2C908F'}">
          <span>{{consContent | textcount}}</span> / <span>50</span>
        </div>
        <textarea (ngModelChange)="slideContentCheck()" [(ngModel)]="consContent" [placeholder]="consContentPlaceholder"></textarea>
      </div>
    </ion-slide>
    <ion-slide>
      <div class="question">Q4. 프로젝트를 참여하시면서 느꼈던 전반적인 생각을 적어주세요.</div>
      <div class="question-summary">스토리를 보신 후 이 프로젝트에 대한 첫인상을 평가해주세요. 솔직한 평가일수록 프로젝트에 큰 도움이 될 수 있습니다!</div>
      <div class="editor-content">
        <div class="content-length-wrapper" [ngStyle]="{'color': 100 > (overallOpinionContent | textcount)? '#787878' : '#2C908F'}">
          <span>{{overallOpinionContent | textcount}}</span> / <span>100</span>
        </div>
        <textarea (ngModelChange)="slideContentCheck()" [(ngModel)]="overallOpinionContent" [placeholder]="overallOpinionContentPlaceholder"></textarea>
      </div>
    </ion-slide>
  </ion-slides>
</ion-content>