<!--
  Generated template for the UserProjectOpinionWritingEditorPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content class="editor-modal" #contentRef (ionScroll)="scrollingEvent($event)" (panEnd)='panEnd()'>
  <ion-header class="editor-header">
    <ion-navbar>
      <ion-buttons start>
        <button class="dismiss-button" ion-button (click)="dismiss()" icon-only>
          취소
        </button>
      </ion-buttons>
      <ion-title>토론 참여하기</ion-title>
      <ion-buttons end>
        <button [disabled]="minTextLength > (opinionContent | textcount) || tempEmpathy == ''" class="complete-button" ion-button (click)="registerOpinion()" icon-only>
          완료
        </button>
      </ion-buttons>
    </ion-navbar>
  </ion-header>
  <div class="editor-content-header">
    <span class="header-label"><span class="bold padding-right4" [innerHTML]="nickname"></span> 님의 피드백에 공감하시나요?</span>
    <ion-list class="empathy-radio-group" radio-group [(ngModel)]="tempEmpathy" (ionChange)="changeEmpathyRadio()">
      <ion-item class="empathy-radio">
        <ion-label>공감</ion-label>
        <ion-radio value="empathy"></ion-radio>
      </ion-item>
      <ion-item class="non-empathy-radio">
        <ion-label>비공감</ion-label>
        <ion-radio value="nonEmpathy"></ion-radio>
      </ion-item>
    </ion-list>
  </div>
  <div class="outer-content editor-content">
    <textarea class="height30" [(ngModel)]="opinionContent" [placeholder]="contentPlaceholder"></textarea>
    <div class="content-length-wrapper" [ngStyle]="{'color': minTextLength > (opinionContent | textcount)? '#787878' : '#2C908F'}">
      <span>{{opinionContent | textcount}}</span> / <span>{{minTextLength}}</span>
    </div>
  
    <div class="feedback-images small-feedback-images">
      <span class="add-image-button-box image-box" *ngIf="!opinionImage">
        <span class="feedback-image-wrapper add-image-button" tappable (click)="addImage()">
          <ion-icon name="md-add"></ion-icon>
        </span>
      </span>
      <span class="image-box" *ngIf="opinionImage">
        <button class="delete-image-button" ion-button clear (click)="deleteImage()"><img src="assets/img/delete-button.png" /></button>
        <span class="feedback-image-wrapper cropper">
          <img class="feedback-image" [src]="sanitize(opinionImage)" />
        </span>
      </span>
    </div>
  </div>
</ion-content>