<!--
  Generated template for the UserInterviewPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="tabs-header">
    <ion-navbar hideBackButton="true">
      <ion-buttons start>
        <button class="badge-button-wrapper" ion-button clear (click)="openUserAlarmPage()">
          <ion-icon name="notifications">
            <ion-badge class="badge-button-wrapper-badge" color="danger" *ngIf="getAlarmNum()>0">{{getAlarmNum()}}</ion-badge>
          </ion-icon>              
        </button>
      </ion-buttons>
      <ion-title>인터뷰</ion-title>
      <ion-buttons end>
        <button ion-button (click)="openUserConfigurePage()">
          <ion-icon name="settings"></ion-icon>
        </button>
      </ion-buttons>
    </ion-navbar>
    <div class="tab-top-notice">
      주의!
      <button class="accordion-button" float-right (click)="accordion()">
        <ion-icon name="ios-arrow-down" *ngIf="!activeAccordion"></ion-icon>
        <ion-icon name="ios-arrow-up" *ngIf="activeAccordion"></ion-icon>
      </button>
    </div>
    <div class="subNotice" *ngIf="activeAccordion">
        <p>* 자세한 사항은 도움말의 '인터뷰' 부분을 확인해 주세요! *</p>
        <p>기업과 유저간 대화 형식으로 진행됩니다.</p>
        <p>인터뷰는 기업이 질문하고 유저가 답변하는 방식으로 진행됩니다.</p>
        <p>만약 기업으로부터 받은 인터뷰가 있지만 응답하지 않을 경우 보상이 주어지지 않습니다.</p>
        <p>따라서, 인터뷰에 성실히 답변을 해주시기 바랍니다.</p>
    </div>
</ion-header>

<ion-content>
  <ion-refresher padding-top (ionRefresh)="doRefresh($event)" pullMin="150" pullMax="500">
      <ion-refresher-content>
      </ion-refresher-content>
  </ion-refresher>      
  <div class="empty-content" *ngIf="interviews.length == 0">
    <span class="grey-text">아직 진행 중인 인터뷰가 없습니다.</span>
  </div>
  <ion-list *ngIf="interviews.length != 0">
    <ion-item tappable float-left class="interview-item avatar-span-wrapper item-flex" *ngFor="let interview of interviews" (click)="openUserProjectInterviewDetailPage(interview.project_id, progressState.innerHTML)">
      <span item-start class="avatar-image avatar-span cropper">
        <img class="avatar-span-image" [src]="interview.project_main_image" />
      </span>
      <h2 [innerHTML]="interview.project_name"></h2>
      <p>{{interview.ordinal}}차 인터뷰</p>
      <div item-end class="interview-item-end">
        <ion-note #progressState [innerHTML]="interview.project_end_date | amLocale:'ko' | amTimeAgo | progressState"></ion-note>
        <div class="badge-new" *ngIf="interview.interview_num != 0">{{interview.interview_num}}</div>
        <div class="blank-badge-new" *ngIf="interview.interview_num == 0">0</div>
      </div>
    </ion-item>
  </ion-list>

</ion-content>
